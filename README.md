# ๐ JAN Delivery - Telegram Mini App

ะกะพะฒัะตะผะตะฝะฝะพะต ะฟัะธะปะพะถะตะฝะธะต ะดะปั ะดะพััะฐะฒะบะธ ะตะดั ะฒ Telegram ั ะธะฝัะตะณัะฐัะธะตะน Google Sheets ะบะฐะบ ะฑะฐะทั ะดะฐะฝะฝัั.

## ๐ฏ ะะพะทะผะพะถะฝะพััะธ

- **๐ค Telegram Bot** - ะะพะปะฝะฐั ะธะฝัะตะณัะฐัะธั ั Telegram API
- **๐ฑ Mini App** - ะะฐัะธะฒะฝะพะต Telegram ะฟัะธะปะพะถะตะฝะธะต
- **๐ Google Sheets DB** - ะัะพััะพะต ัะฟัะฐะฒะปะตะฝะธะต ะดะฐะฝะฝัะผะธ
- **๐บ๏ธ ะะตะพะปะพะบะฐัะธั** - ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะฐะดัะตัะฐ
- **๐ ะฃะฒะตะดะพะผะปะตะฝะธั** - ะััะปะตะถะธะฒะฐะฝะธะต ััะฐัััะฐ ะทะฐะบะฐะทะฐ
- **๐ฆ ะะพัะทะธะฝะฐ** - ะฃะดะพะฑะฝะพะต ะพัะพัะผะปะตะฝะธะต ะทะฐะบะฐะทะพะฒ
- **๐ ะะฝะฐะปะธัะธะบะฐ** - ะัััะพะตะฝะฝะฐั ะพััะตัะฝะพััั

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   Telegram      โ    โ    Backend      โ    โ  Google Sheets  โ
โ   Mini App      โโโโโบโ   Node.js API   โโโโโบโ   Database      โ
โ   (Frontend)    โ    โ   Express.js    โ    โ   (Menu, Orders)โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
         โ                       โ                       โ
         โ                       โผ                       โ
         โ              โโโโโโโโโโโโโโโโโโโ              โ
         โ              โ OpenRouteServiceโ              โ
         โโโโโโโโโโโโโโโโบโ   Geocoding     โโโโโโโโโโโโโโโโ
                        โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะัััััะน ััะฐัั

### 1. ะะปะพะฝะธัะพะฒะฐะฝะธะต ัะตะฟะพะทะธัะพัะธั
```bash
git clone https://github.com/yourusername/jan-delivery.git
cd jan-delivery
```

### 2. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน
```bash
cd backend
npm install
```

### 3. ะะฐัััะพะนะบะฐ ะพะบััะถะตะฝะธั
```bash
cp .env.example .env
# ะััะตะดะฐะบัะธััะนัะต .env ัะฐะนะป ั ะฒะฐัะธะผะธ ะบะปััะฐะผะธ
```

### 4. ะะฐะฟััะบ ัะฐะทัะฐะฑะพัะบะธ
```bash
npm run dev
```

### 5. ะัะบัััะธะต frontend
ะัะบัะพะนัะต `frontend/index.html` ะฒ ะฑัะฐัะทะตัะต ะดะปั ัะตััะธัะพะฒะฐะฝะธั.

## ๐ ะะฐัััะพะนะบะฐ

### Google Sheets API
1. ะกะปะตะดัะนัะต [ััะบะพะฒะพะดััะฒั ะฟะพ ะฝะฐัััะพะนะบะต Google Sheets](docs/setup/google-sheets-setup.md)
2. ะกะพะทะดะฐะนัะต ัะฐะฑะปะธัั ัะพ ััััะบัััะพะน ะธะท [ะดะพะบัะผะตะฝัะฐัะธะธ](docs/google-sheets/)
3. ะะฐะฟะพะปะฝะธัะต ัะตััะพะฒัะผะธ ะดะฐะฝะฝัะผะธ ะธะท [ะฟัะธะผะตัะพะฒ](docs/google-sheets/sample-data.md)

### Telegram Bot
1. ะกะพะทะดะฐะนัะต ะฑะพัะฐ ัะตัะตะท [@BotFather](https://t.me/BotFather)
2. ะะพะปััะธัะต ัะพะบะตะฝ ะธ ะดะพะฑะฐะฒััะต ะฒ `.env`
3. ะะฐัััะพะนัะต Mini App ะฒ BotFather

### OpenRouteService
1. ะะฐัะตะณะธัััะธััะนัะตัั ะฝะฐ [OpenRouteService](https://openrouteservice.org/)
2. ะะพะปััะธัะต API ะบะปัั
3. ะะพะฑะฐะฒััะต ะฒ `.env`

## ๐๏ธ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
jan-delivery/
โโโ backend/                 # API ัะตัะฒะตั
โ   โโโ src/
โ   โ   โโโ app.js          # ะะปะฐะฒะฝัะน ัะฐะนะป ัะตัะฒะตัะฐ
โ   โ   โโโ routes/         # API ะผะฐัััััั
โ   โ   โโโ controllers/    # ะะธะทะฝะตั ะปะพะณะธะบะฐ
โ   โ   โโโ services/       # ะะฝะตัะฝะธะต ัะตัะฒะธัั
โ   โ   โโโ middleware/     # ะัะพะผะตะถััะพัะฝัะต ะพะฑัะฐะฑะพััะธะบะธ
โ   โโโ package.json
โโโ frontend/               # Telegram Mini App
โ   โโโ index.html         # ะะปะฐะฒะฝะฐั ัััะฐะฝะธัะฐ
โ   โโโ js/                # JavaScript ะผะพะดัะปะธ
โ   โโโ styles/            # CSS ััะธะปะธ
โโโ docs/                  # ะะพะบัะผะตะฝัะฐัะธั
โ   โโโ google-sheets/     # ะกัััะบัััะฐ ะะ
โ   โโโ setup/             # ะัะบะพะฒะพะดััะฒะฐ ะฟะพ ะฝะฐัััะพะนะบะต
โโโ scripts/               # ะฃัะธะปะธัั ะธ ัะตััั
```

## ๐๏ธ API Endpoints

### ะะตะฝั
- `GET /api/menu` - ะะพะปััะธัั ะฒัะต ะฑะปัะดะฐ
- `GET /api/menu/:id` - ะะพะปััะธัั ะฑะปัะดะพ ะฟะพ ID
- `GET /api/menu/category/:category` - ะะพะปััะธัั ะฑะปัะดะฐ ะฟะพ ะบะฐัะตะณะพัะธะธ

### ะะฐะบะฐะทั
- `POST /api/orders` - ะกะพะทะดะฐัั ะทะฐะบะฐะท
- `GET /api/orders/user/:userId` - ะะฐะบะฐะทั ะฟะพะปัะทะพะฒะฐัะตะปั
- `GET /api/orders/:orderId` - ะะพะปััะธัั ะทะฐะบะฐะท ะฟะพ ID
- `PUT /api/orders/:orderId/status` - ะะฑะฝะพะฒะธัั ััะฐััั

### ะะพะปัะทะพะฒะฐัะตะปะธ
- `POST /api/users` - ะกะพะทะดะฐัั/ะพะฑะฝะพะฒะธัั ะฟะพะปัะทะพะฒะฐัะตะปั
- `GET /api/users/:userId` - ะะพะปััะธัั ะฟะพะปัะทะพะฒะฐัะตะปั
- `PUT /api/users/:userId/address` - ะะฑะฝะพะฒะธัั ะฐะดัะตั

### ะกะธััะตะผะฐ
- `GET /health` - ะัะพะฒะตัะบะฐ ัะฐะฑะพัะพัะฟะพัะพะฑะฝะพััะธ
- `POST /webhook` - Telegram webhook

## ๐๏ธ ะะฐะทะฐ ะดะฐะฝะฝัั (Google Sheets)

### ะะธัั "Menu"
ะกะพะดะตัะถะธั ะบะฐัะฐะปะพะณ ะฑะปัะด:
- id, name, description, price, category
- image, available, ingredients, weight, calories

### ะะธัั "Orders"  
ะกะพะดะตัะถะธั ะฒัะต ะทะฐะบะฐะทั:
- id, userId, userInfo, items, total, address
- coordinates, status, createdAt, phone, notes

### ะะธัั "Users"
ะกะพะดะตัะถะธั ะฟัะพัะธะปะธ ะฟะพะปัะทะพะฒะฐัะตะปะตะน:
- userId, first_name, last_name, username
- language_code, phone, address, createdAt, updatedAt

## ๐ฑ Telegram Mini App

### ะกััะฐะฝะธัั
- **๐ฝ๏ธ ะะตะฝั** - ะะฐัะฐะปะพะณ ั ะบะฐัะตะณะพัะธัะผะธ ะธ ะฟะพะธัะบะพะผ
- **๐ ะะพัะทะธะฝะฐ** - ะฃะฟัะฐะฒะปะตะฝะธะต ะทะฐะบะฐะทะพะผ
- **๐ฆ ะะฐะบะฐะทั** - ะััะพัะธั ะธ ะพััะปะตะถะธะฒะฐะฝะธะต

### ะคัะฝะบัะธะธ
- ะะฒัะพะผะฐัะธัะตัะบะพะต ะพะฟัะตะดะตะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปั
- ะะตะพะปะพะบะฐัะธั ะธ ะฐะดัะตั ะดะพััะฐะฒะบะธ
- Haptic feedback ะดะปั ะปัััะตะณะพ UX
- ะััะธัะพะฒะฐะฝะธะต ะดะปั ะฑััััะพะน ัะฐะฑะพัั
- ะะดะฐะฟัะธะฒะฝัะน ะดะธะทะฐะนะฝ ะฟะพะด Telegram ัะตะผั

## ๐ข ะะตะฟะปะพะน

### Render.com (ัะตะบะพะผะตะฝะดัะตััั)
1. ะกะปะตะดัะนัะต [ััะบะพะฒะพะดััะฒั ะฟะพ ะดะตะฟะปะพั](docs/setup/deployment-guide.md)
2. ะกะพะทะดะฐะนัะต Web Service ะดะปั backend
3. ะกะพะทะดะฐะนัะต Static Site ะดะปั frontend
4. ะะฐัััะพะนัะต ะฟะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั

### ะัััััะน ััะฐัั (Render + GitHub Pages)
- ะะตะฟะพะทะธัะพัะธะน: ะทะฐะฟััััะต ะบะพะด ะฒ GitHub (ะฒะตัะบะฐ `main`).
- Render Blueprint: ะฒ ะบะพัะฝะต ะตััั `render.yaml` โ ะฒ Render โ New โ Blueprint ะฒัะฑะตัะธัะต ัะตะฟะพะทะธัะพัะธะน ะธ ัะพะทะดะฐะนัะต ัะตััััั (backend + static frontend).
- ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั backend: ะทะฐะดะฐะนัะต `TELEGRAM_BOT_TOKEN`, `GOOGLE_*`, `OPENROUTE_API_KEY`, `WEB_APP_URL`, `TELEGRAM_WEBHOOK_URL`.
- ะัะพะฒะตัะบะฐ: `https://<backend-url>/health` ะดะพะปะถะตะฝ ะฒะพะทะฒัะฐัะฐัั OK.
- Frontend: GitHub Pages ะฒะพัะบัะปะพั (`.github/workflows/deploy-frontend.yml`) ะฟัะฑะปะธะบัะตั ะฟะฐะฟะบั `frontend/`.
- API URL: ะฒ `frontend/index.html` ะผะตัะฐโัะตะณ `<meta name="jan-api-base" content="...">` ัะบะฐะถะธัะต ะฝะฐ URL ะฒะฐัะตะณะพ backend.

### ะััะณะธะต ะฟะปะฐััะพัะผั
- **Heroku** - ะดะปั backend
- **Vercel/Netlify** - ะดะปั frontend  
- **Railway** - full-stack ัะตัะตะฝะธะต

## ๐งช ะขะตััะธัะพะฒะฐะฝะธะต

### ะขะตัั Google Sheets ะฟะพะดะบะปััะตะฝะธั
```bash
node scripts/test-sheets.js
```

### ะัะพะฒะตัะบะฐ API
```bash
curl http://localhost:3000/health
curl http://localhost:3000/api/menu
```

### ะขะตัั ะฒ Telegram
1. ะะพะฑะฐะฒััะต ะฑะพัะฐ ะฒ Telegram
2. ะัะฟัะฐะฒััะต `/start`
3. ะะฐะถะผะธัะต "๐ฝ๏ธ ะัะบัััั ะผะตะฝั"

## ๐ง ะะฐะทัะฐะฑะพัะบะฐ

### ะะพะบะฐะปัะฝะฐั ัะฐะทัะฐะฑะพัะบะฐ
```bash
# ะะฐะฟััะบ backend ะฒ dev ัะตะถะธะผะต
cd backend
npm run dev

# ะัะบัััั frontend ะดะปั ัะตััะธัะพะฒะฐะฝะธั
open frontend/index.html
```

### ะกัััะบัััะฐ ะบะพะดะฐ
- **Backend**: Express.js ั ะผะพะดัะปัะฝะพะน ะฐััะธัะตะบัััะพะน
- **Frontend**: Vanilla JS ั ะบะปะฐััะฐะผะธ ะธ ะผะพะดัะปัะผะธ
- **ะกัะธะปะธ**: CSS3 ั CSS ะฟะตัะตะผะตะฝะฝัะผะธ
- **API**: RESTful ั JSON responses

## ๐ ะะพะฝะธัะพัะธะฝะณ

### ะะพะณะธ
- Backend ะปะพะณะธ ะฒ ะบะพะฝัะพะปั ะธ ัะฐะนะปั
- Frontend ะปะพะณะธ ะฒ browser console
- Telegram webhook ะปะพะณะธ

### ะะตััะธะบะธ
- ะะพะปะธัะตััะฒะพ ะทะฐะบะฐะทะพะฒ
- ะะพะฟัะปััะฝัะต ะฑะปัะดะฐ
- ะะตะพะณัะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะัะตะผั ะพัะฒะตัะฐ API

## ๐ ะะตะทะพะฟะฐัะฝะพััั

- ะะฐะปะธะดะฐัะธั ะฒัะตั ะฒัะพะดััะธั ะดะฐะฝะฝัั
- ะะฐัะธัะฐ API endpoints
- ะะตะทะพะฟะฐัะฝะพะต ััะฐะฝะตะฝะธะต ะบะปััะตะน
- Rate limiting ะดะปั API
- CORS ะฝะฐัััะพะนะบะธ

## ๐ค ะฃัะฐััะธะต ะฒ ัะฐะทัะฐะฑะพัะบะต

1. Fork ัะตะฟะพะทะธัะพัะธั
2. ะกะพะทะดะฐะนัะต feature branch
3. ะะฝะตัะธัะต ะธะทะผะตะฝะตะฝะธั
4. ะกะพะทะดะฐะนัะต Pull Request

### ะกัะฐะฝะดะฐััั ะบะพะดะฐ
- ESLint ะดะปั JavaScript
- Prettier ะดะปั ัะพัะผะฐัะธัะพะฒะฐะฝะธั
- ะะพะผะผะตะฝัะฐัะธะธ ะฝะฐ ััััะบะพะผ ัะทัะบะต
- Semantic commit messages

## ๐ ะะธัะตะฝะทะธั

MIT License - ัะผ. [LICENSE](LICENSE) ัะฐะนะป.

## ๐ ะะพะดะดะตัะถะบะฐ

- ๐ [ะะพะบัะผะตะฝัะฐัะธั](docs/)
- ๐ [Issues](https://github.com/yourusername/jan-delivery/issues)
- ๐ฌ [Discussions](https://github.com/yourusername/jan-delivery/discussions)

## ๐ ะะปะฐะณะพะดะฐัะฝะพััะธ

- [Telegram Bot API](https://core.telegram.org/bots/api)
- [Google Sheets API](https://developers.google.com/sheets/api)
- [OpenRouteService](https://openrouteservice.org/)
- [Render.com](https://render.com/)

---

**ะกะพะทะดะฐะฝะพ ั โค๏ธ ะดะปั ัะพะพะฑัะตััะฒะฐ ัะฐะทัะฐะฑะพััะธะบะพะฒ**
