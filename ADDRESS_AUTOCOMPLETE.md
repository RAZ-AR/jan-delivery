# üó∫Ô∏è Address Autocomplete Feature

## ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø–æ–ª–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞ –∞–¥—Ä–µ—Å–æ–≤ —Å —É–ª—É—á—à–µ–Ω–Ω–æ–π –≥–µ–æ–ª–æ–∫–∞—Ü–∏–µ–π –¥–ª—è JAN Delivery.

## üöÄ –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### Backend API:
- **`GET /api/geocode/search?q=query`** - –ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–æ–≤ –¥–ª—è –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞
- **`POST /api/geocode/reverse`** - –ü–æ–ª—É—á–µ–Ω–∏–µ –∞–¥—Ä–µ—Å–∞ –ø–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenRouteService –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–æ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏ –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤

### Frontend UI:
- **–ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –∞–¥—Ä–µ—Å–æ–≤** —Å –≤—ã–ø–∞–¥–∞—é—â–∏–º —Å–ø–∏—Å–∫–æ–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
- **–£–ª—É—á—à–µ–Ω–Ω–∞—è –≥–µ–æ–ª–æ–∫–∞—Ü–∏—è** —Å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —á–∏—Ç–∞–µ–º–æ–≥–æ –∞–¥—Ä–µ—Å–∞
- **Keyboard navigation** (—Å—Ç—Ä–µ–ª–∫–∏, Enter, Escape)
- **Haptic feedback** –¥–ª—è –ª—É—á—à–µ–≥–æ UX –≤ Telegram
- **Responsive design** –¥–ª—è –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤

## üéØ –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### 1. –ê–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç –ø—Ä–∏ –≤–≤–æ–¥–µ
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞—á–∏–Ω–∞–µ—Ç –≤–≤–æ–¥–∏—Ç—å –∞–¥—Ä–µ—Å
"–ö–æ—Ä–æ–ª—å –ú–∏–ª–∞–Ω" ‚Üí API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
[
  "–ö—Ä–∞—ô–∞ –ú–∏–ª–∞–Ω–∞ 15, –ë–µ–æ–≥—Ä–∞–¥, –°—Ä–±–∏—ò–∞",
  "–ö—Ä–∞—ô–∞ –ú–∏–ª–∞–Ω–∞ 25, –ë–µ–æ–≥—Ä–∞–¥, –°—Ä–±–∏—ò–∞", 
  "–ö—Ä–∞—ô–∞ –ú–∏–ª–∞–Ω–∞ 48, –ë–µ–æ–≥—Ä–∞–¥, –°—Ä–±–∏—ò–∞"
]
```

### 2. –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è —Å –∞–¥—Ä–µ—Å–æ–º  
```javascript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "üìç –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ"
GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã ‚Üí –û–±—Ä–∞—Ç–Ω–æ–µ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ ‚Üí "–¢–µ—Ä–∞–∑–∏—ò–µ 5, –ë–µ–æ–≥—Ä–∞–¥ 11000, –°—Ä–±–∏—ò–∞"
```

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–æ–Ω—ã –¥–æ—Å—Ç–∞–≤–∫–∏
```javascript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –∞–¥—Ä–µ—Å–∞
–í—ã–±—Ä–∞–Ω –∞–¥—Ä–µ—Å ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ coordinates ‚Üí –ü–æ–∫–∞–∑–∞—Ç—å "–≤ –∑–æ–Ω–µ" –∏–ª–∏ "–≤–Ω–µ –∑–æ–Ω—ã"
```

## üìã –§–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã/–∏–∑–º–µ–Ω–µ–Ω—ã

### Backend:
- `src/services/geocodingService.js` - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞
- `src/routes/geocode.js` - –ù–æ–≤—ã–µ API endpoints

### Frontend:
- `js/addressAutocomplete.js` - –ù–æ–≤—ã–π –∫–ª–∞—Å—Å –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞ ‚≠ê
- `js/geolocationFix.js` - –£–ª—É—á—à–µ–Ω–∏–µ –≥–µ–æ–ª–æ–∫–∞—Ü–∏–∏ ‚≠ê
- `js/api.js` - –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –¥–ª—è –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞
- `js/cart.js` - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ñ–æ—Ä–º–æ–π –∑–∞–∫–∞–∑–∞
- `styles/main.css` - –°—Ç–∏–ª–∏ –¥–ª—è dropdown –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π

### HTML:
- –í—Å–µ `index*.html` —Ñ–∞–π–ª—ã –æ–±–Ω–æ–≤–ª–µ–Ω—ã –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. OpenRouteService API Key
```env
# –î–æ–±–∞–≤–∏—Ç—å –≤ .env —Ñ–∞–π–ª backend
OPENROUTE_API_KEY=your_api_key_here
```

**–ü–æ–ª—É—á–∏—Ç—å –∫–ª—é—á:** https://openrouteservice.org/dev/#/signup

### 2. –†–µ–≥–∏–æ–Ω –ø–æ–∏—Å–∫–∞
```javascript
// –í geocodingService.js –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –°–µ—Ä–±–∏–∏
boundary_country: 'RS', // –°–µ—Ä–±–∏—è –¥–ª—è –ë–µ–ª–≥—Ä–∞–¥–∞
focus_point: '20.4489,44.7866' // –¶–µ–Ω—Ç—Ä –ë–µ–ª–≥—Ä–∞–¥–∞
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### API Endpoints:
```bash
# –ü–æ–∏—Å–∫ –∞–¥—Ä–µ—Å–æ–≤
curl "https://jan-delivery.onrender.com/api/geocode/search?q=–¢–µ—Ä–∞–∑–∏—ò–µ"

# –û–±—Ä–∞—Ç–Ω–æ–µ –≥–µ–æ–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ  
curl -X POST "https://jan-delivery.onrender.com/api/geocode/reverse" \
  -H "Content-Type: application/json" \
  -d '{"latitude": 44.7866, "longitude": 20.4489}'
```

### Frontend —Ç–µ—Å—Ç:
1. –û—Ç–∫—Ä—ã—Ç—å –∫–æ—Ä–∑–∏–Ω—É
2. –ù–∞–∂–∞—Ç—å "–û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑"  
3. –ù–∞—á–∞—Ç—å –≤–≤–æ–¥–∏—Ç—å –∞–¥—Ä–µ—Å - –ø–æ—è–≤—è—Ç—Å—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
4. –ù–∞–∂–∞—Ç—å "üìç –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ" - –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∞–¥—Ä–µ—Å

## üîß –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –í HTML:
```html
<input type="text" id="address-input" placeholder="–ù–∞—á–Ω–∏—Ç–µ –≤–≤–æ–¥–∏—Ç—å –∞–¥—Ä–µ—Å...">
<script src="js/addressAutocomplete.js"></script>
```

### –í JavaScript:
```javascript
const autocomplete = new AddressAutocomplete(document.getElementById('address-input'), {
  onSelect: (suggestion) => {
    console.log('–í—ã–±—Ä–∞–Ω –∞–¥—Ä–µ—Å:', suggestion);
    // suggestion.coordinates - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
    // suggestion.text - –ø–æ–ª–Ω—ã–π –∞–¥—Ä–µ—Å
  },
  onError: (error) => {
    console.error('–û—à–∏–±–∫–∞ –∞–≤—Ç–æ–∫–æ–º–ø–ª–∏—Ç–∞:', error);
  }
});
```

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### CSS —Å—Ç–∏–ª–∏:
```css
/* –ù–∞—Å—Ç—Ä–æ–π–∫–∞ dropdown */
.address-suggestions {
  max-height: 250px; /* –í—ã—Å–æ—Ç–∞ —Å–ø–∏—Å–∫–∞ */
  border-radius: 8px; /* –°–∫—Ä—É–≥–ª–µ–Ω–∏–µ */
}

.suggestion-item:hover {
  background-color: #f0f0f0; /* –¶–≤–µ—Ç –ø—Ä–∏ hover */
}
```

### JavaScript –æ–ø—Ü–∏–∏:
```javascript
const options = {
  minLength: 2,        // –ú–∏–Ω–∏–º—É–º —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞
  delay: 300,          // –ó–∞–¥–µ—Ä–∂–∫–∞ –ø–µ—Ä–µ–¥ –ø–æ–∏—Å–∫–æ–º (–º—Å)
  maxSuggestions: 5,   // –ú–∞–∫—Å–∏–º—É–º –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
  showCoordinates: false // –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã
};
```

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **Debounce** –ø–æ–∏—Å–∫–∞ –Ω–∞ 300–º—Å –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ API –≤—ã–∑–æ–≤–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ API —Å–µ—Ä–≤–∏—Å–µ  
- **Keyboard navigation** –±–µ–∑ –ª–∏—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –ø–æ–∏—Å–∫ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

## üîÆ –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∞–¥—Ä–µ—Å–æ–≤ –≤ localStorage
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–∞—Ä—Ç–∞–º–∏ –¥–ª—è –≤–∏–∑—É–∞–ª—å–Ω–æ–≥–æ –≤—ã–±–æ—Ä–∞
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —è–∑—ã–∫–æ–≤ (RS/EN)
- [ ] Favourites –∞–¥—Ä–µ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] Bulk address validation –¥–ª—è –∞–¥–º–∏–Ω–∫–∏

---

**Feature –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ staging –∏ production!** üéâ

–î–ª—è –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å `OPENROUTE_API_KEY` –≤ environment variables.